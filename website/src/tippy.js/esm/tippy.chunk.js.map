{"version":3,"file":"tippy.chunk.js","sources":["../src/browser.ts","../src/props.ts","../src/ponyfills.ts","../src/constants.ts","../src/bindGlobalEventListeners.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/validation.ts","../src/createTippy.ts","../src/index.ts"],"sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS =\n  isBrowser &&\n  /iPhone|iPad|iPod/.test(navigator.platform) &&\n  !(window as any).MSStream\n","import { Props } from './types'\n\nexport const defaultProps: Props = {\n  allowHTML: true,\n  animateFill: true,\n  animation: 'shift-away',\n  appendTo: (): Element => document.body,\n  aria: 'describedby',\n  arrow: false,\n  arrowType: 'sharp',\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [325, 275],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  followCursor: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onCreate(): void {},\n  onHidden(): void {},\n  onHide(): void | false {},\n  onMount(): void {},\n  onShow(): void | false {},\n  onShown(): void {},\n  onTrigger(): void {},\n  onUntrigger(): void {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnInit: false,\n  size: 'regular',\n  sticky: false,\n  theme: '__NAMESPACE_PREFIX__-dark',\n  touch: true,\n  touchHold: false,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  updateDuration: 0,\n  wait: null,\n  zIndex: 9999,\n}\n\n/**\n * If the set() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES: Array<keyof Props> = [\n  'arrow',\n  'arrowType',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | null {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n\n    element = element.parentElement\n  }\n\n  return null\n}\n","// Passive event listener config\nexport const PASSIVE = { passive: true }\n\n// Popper `preventOverflow` padding\nexport const PADDING = 4\n\n// Classes\nexport const IOS_CLASS = `__NAMESPACE_PREFIX__-iOS`\nexport const POPPER_CLASS = `__NAMESPACE_PREFIX__-popper`\nexport const TOOLTIP_CLASS = `__NAMESPACE_PREFIX__-tooltip`\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`\nexport const SVG_ARROW_CLASS = `__NAMESPACE_PREFIX__-svgArrow`\n\n// Selectors\nexport const POPPER_SELECTOR = `.${POPPER_CLASS}`\nexport const TOOLTIP_SELECTOR = `.${TOOLTIP_CLASS}`\nexport const CONTENT_SELECTOR = `.${CONTENT_CLASS}`\nexport const BACKDROP_SELECTOR = `.${BACKDROP_CLASS}`\nexport const ARROW_SELECTOR = `.${ARROW_CLASS}`\nexport const SVG_ARROW_SELECTOR = `.${SVG_ARROW_CLASS}`\n","import { isIOS } from './browser'\nimport { PASSIVE, IOS_CLASS } from './constants'\n\nexport let isUsingTouch = false\nlet lastMouseMoveTime = 0\n\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isUsingTouch` variable is fully dynamic and will\n * handle hybrid devices that use a mix of touch + mouse input.\n */\nexport function onDocumentTouchStart(): void {\n  if (isUsingTouch) {\n    return\n  }\n\n  isUsingTouch = true\n\n  if (isIOS) {\n    document.body.classList.add(IOS_CLASS)\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  if (now - lastMouseMoveTime < 20) {\n    isUsingTouch = false\n\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n\n    if (!isIOS) {\n      document.body.classList.remove(IOS_CLASS)\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n\n  if (activeElement && activeElement.blur && activeElement._tippy) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('touchstart', onDocumentTouchStart, PASSIVE)\n  window.addEventListener('blur', onWindowBlur)\n}\n","import { Props, ReferenceElement } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeProps(reference: ReferenceElement): Props {\n  return keys.reduce((acc: any, key): Partial<Props> => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n}\n","import { Props, ReferenceElement, Targets } from './types'\nimport { arrayFrom } from './ponyfills'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeProps } from './reference'\nimport { POPPER_CLASS } from './constants'\n\n/**\n * Determines if the value is a reference element\n */\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!(value && value._tippy && !value.classList.contains(POPPER_CLASS))\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isRealElement(value)) {\n    return [value]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  try {\n    return arrayFrom(document.querySelectorAll(value))\n  } catch (e) {\n    return []\n  }\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValue(value: any, index: number, defaultValue: any): any {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null ? defaultValue : v\n  }\n\n  return value\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if an array or string includes a value\n */\nexport function includes(a: any[] | string, b: any): boolean {\n  return a.indexOf(b) > -1\n}\n\n/**\n * Determines if the value is a real element\n */\nexport function isRealElement(value: any): value is Element {\n  return value instanceof Element\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick\n * it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value.apply(null, args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter((m): boolean => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach(\n    (el): void => {\n      if (el) {\n        el.style.transitionDuration = `${value}ms`\n      }\n    },\n  )\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach(\n    (el): void => {\n      if (el) {\n        el.setAttribute('data-state', state)\n      }\n    },\n  )\n}\n\n/**\n * Evaluates the props object by merging data attributes and disabling\n * conflicting props where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeProps(reference)),\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  return out\n}\n\n/**\n * Debounce utility. To avoid bloating bundle size, we're only passing 1\n * argument here, a more generic function would pass all arguments. Only\n * `onMouseMove` uses this which takes the event object for now.\n */\nexport function debounce<T>(\n  fn: (arg: T) => void,\n  ms: number,\n): (arg: T) => void {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn\n  }\n\n  let timeout: any\n\n  return (arg): void => {\n    clearTimeout(timeout)\n    timeout = setTimeout((): void => {\n      fn(arg)\n    }, ms)\n  }\n}\n\n/**\n * Helpful wrapper around `console.warn()`\n */\nexport function warnWhen(condition: boolean, message: string): void {\n  if (condition) {\n    /* eslint-disable-next-line no-console */\n    console.warn(`[tippy.js WARNING] ${message}`)\n  }\n}\n","import {\n  PopperElement,\n  Props,\n  PopperChildren,\n  BasicPlacement,\n  Placement,\n} from './types'\nimport { innerHTML, div, isRealElement } from './utils'\nimport { isUCBrowser } from './browser'\nimport {\n  POPPER_CLASS,\n  TOOLTIP_CLASS,\n  BACKDROP_CLASS,\n  CONTENT_CLASS,\n  ARROW_CLASS,\n  SVG_ARROW_CLASS,\n  TOOLTIP_SELECTOR,\n  BACKDROP_SELECTOR,\n  CONTENT_SELECTOR,\n  ARROW_SELECTOR,\n  SVG_ARROW_SELECTOR,\n} from './constants'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = isRealElement(html) ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (isRealElement(props.content)) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(TOOLTIP_SELECTOR) as HTMLDivElement,\n    backdrop: popper.querySelector(BACKDROP_SELECTOR),\n    content: popper.querySelector(CONTENT_SELECTOR) as HTMLDivElement,\n    arrow:\n      popper.querySelector(ARROW_SELECTOR) ||\n      popper.querySelector(SVG_ARROW_SELECTOR),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(\n  arrowType: Props['arrowType'],\n): HTMLDivElement {\n  const arrow = div()\n\n  if (arrowType !== 'sharp') {\n    arrow.className = SVG_ARROW_CLASS\n\n    // Use the built-in round SVG shape\n    if (arrowType === 'round') {\n      setInnerHTML(\n        arrow,\n        '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>',\n      )\n    } else {\n      // Assume they're specifying their own SVG shape\n      setInnerHTML(arrow, arrowType)\n    }\n  } else {\n    arrow.className = ARROW_CLASS\n  }\n\n  return arrow\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(isVisible: boolean): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = BACKDROP_CLASS\n  backdrop.setAttribute('data-state', isVisible ? 'visible' : 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function updateTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getBasicPlacement(placement: Placement): BasicPlacement {\n  return placement.split('-')[0] as BasicPlacement\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function updateTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  theme.split(' ').forEach(\n    (name): void => {\n      tooltip.classList[action](name + '-theme')\n    },\n  )\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = POPPER_CLASS\n\n  const tooltip = div()\n  tooltip.className = TOOLTIP_CLASS\n  tooltip.id = `__NAMESPACE_PREFIX__-${id}`\n  tooltip.setAttribute('data-state', 'hidden')\n\n  updateTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = CONTENT_CLASS\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.setAttribute('data-arrow', '')\n    tooltip.appendChild(createArrowElement(props.arrowType))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement(false))\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  updatePopperElement(popper, props, props, false)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n  isVisible: boolean,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n\n  tooltip.setAttribute('data-size', nextProps.size)\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n\n  if (nextProps.role) {\n    tooltip.setAttribute('role', nextProps.role)\n  } else {\n    tooltip.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement(isVisible))\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    tooltip.appendChild(createArrowElement(nextProps.arrowType))\n    tooltip.setAttribute('data-arrow', '')\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    tooltip.removeChild(arrow!)\n    tooltip.removeAttribute('data-arrow')\n  }\n\n  // arrowType\n  if (\n    prevProps.arrow &&\n    nextProps.arrow &&\n    prevProps.arrowType !== nextProps.arrowType\n  ) {\n    tooltip.replaceChild(createArrowElement(nextProps.arrowType), arrow!)\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    updateTheme(tooltip, 'remove', prevProps.theme)\n    updateTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasicPlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n","import { Props, Targets } from './types'\nimport { hasOwnProperty, includes, warnWhen } from './utils'\nimport { defaultProps } from './props'\n\n/**\n * Validates props with the valid `defaultProps` object\n */\nexport function validateProps(partialProps: Partial<Props> = {}): void {\n  Object.keys(partialProps).forEach(\n    (prop): void => {\n      const value = (partialProps as any)[prop]\n      const didPassTargetprop = prop === 'target'\n      const didPassA11yprop = prop === 'a11y'\n      const didPassOtherUnknownprop =\n        !hasOwnProperty(defaultProps, prop) &&\n        prop !== 'target' &&\n        prop !== 'a11y'\n      const didPassOldThemeName =\n        prop === 'theme' &&\n        includes(['dark', 'light', 'light-border', 'translucent'], value)\n      const didPassGoogleTheme = prop === 'theme' && value === 'google'\n\n      warnWhen(\n        didPassTargetprop,\n        'The `target` prop was removed in v5 and ' +\n          'replaced with the `delegate()` method. Read more here: ' +\n          'https//atomiks.github.io/tippyjs/addons#event-delegation',\n      )\n\n      warnWhen(\n        didPassA11yprop,\n        'The `a11y` prop was removed in v5. Make ' +\n          'sure the element you are giving a tippy to is natively ' +\n          'focusable, such as <button> or <input>, not <div> or <span>.',\n      )\n\n      warnWhen(\n        didPassOtherUnknownprop,\n        '`' +\n          prop +\n          '` is not a valid prop. You ' +\n          'may have spelled it incorrectly. View all of the valid props ' +\n          'here: https://atomiks.github.io/tippyjs/all-props/',\n      )\n\n      warnWhen(\n        didPassOldThemeName,\n        'The default theme `' +\n          value +\n          '` in v5 must include the prefix `__NAMESPACE_PREFIX__`, i.e. ' +\n          '\"__NAMESPACE_PREFIX__-' +\n          value +\n          '\" instead of \"' +\n          value +\n          '\".',\n      )\n\n      warnWhen(\n        didPassGoogleTheme,\n        'The default theme `google` was renamed to ' +\n          '`__NAMESPACE_PREFIX__-material` in v5.',\n      )\n    },\n  )\n}\n\n/**\n * Validates the `targets` value passed to `tippy()`\n */\nexport function validateTargets(targets: Targets): void {\n  const didPassFalsyValue = !targets\n  const didPassPlainObject =\n    Object.prototype.toString.call(targets) === '[object Object]' &&\n    !(targets as any).addEventListener\n\n  warnWhen(\n    didPassFalsyValue,\n    '`tippy()` was passed `' +\n      targets +\n      '` (an invalid falsy value) as its targets argument. Valid types are: ' +\n      'String (CSS selector), Element, Element[], or NodeList.',\n  )\n\n  warnWhen(\n    didPassPlainObject,\n    '`tippy()` was passed a plain object (virtual ' +\n      'reference element) which is no longer supported in v5. Instead, pass ' +\n      'a placeholder element like `document.createElement(\"div\")`',\n  )\n}\n","import Popper from 'popper.js'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Instance,\n  Content,\n  Placement,\n} from './types'\nimport { isIE } from './browser'\nimport { closestCallback } from './ponyfills'\nimport { PASSIVE, PADDING } from './constants'\nimport { isUsingTouch } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  getChildren,\n  getBasicPlacement,\n  updateTransitionEndListener,\n  isCursorOutsideInteractiveBorder,\n  reflow,\n} from './popper'\nimport {\n  hasOwnProperty,\n  getValue,\n  getModifier,\n  includes,\n  invokeWithArgsOrReturn,\n  setFlipModifierEnabled,\n  evaluateProps,\n  setTransitionDuration,\n  setVisibilityState,\n  debounce,\n  warnWhen,\n} from './utils'\nimport { validateProps } from './validation'\n\ninterface Listener {\n  eventType: string\n  handler: EventListenerOrEventListenerObject\n  options: boolean | object\n}\n\nlet idCounter = 1\n// Workaround for IE11's lack of new MouseEvent constructor\nlet mouseMoveListeners: ((event: MouseEvent) => void)[] = []\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= ðŸ”’ Private members ðŸ”’ ======================= */\n  let lastTriggerEventType: string\n  let lastMouseMoveEvent: MouseEvent\n  let showTimeout: any\n  let hideTimeout: any\n  let animationFrame: number\n  let isScheduledToShow = false\n  let currentPlacement: Placement = props.placement\n  let hasMountCallbackRun = false\n  let currentMountCallback: () => void\n  let currentTransitionEndListener: (event: TransitionEvent) => void\n  let listeners: Listener[] = []\n  let debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce)\n  let currentComputedPadding: {\n    top: number\n    bottom: number\n    left: number\n    right: number\n    [key: string]: number\n  }\n\n  /* ======================= ðŸ”‘ Public members ðŸ”‘ ======================= */\n  const id = idCounter++\n  const popper = createPopperElement(id, props)\n  const popperChildren = getChildren(popper)\n  const popperInstance: PopperInstance | null = null\n\n  // These two elements are static\n  const { tooltip, content } = popperChildren\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    setProps,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  /* ==================== Initial instance mutations =================== */\n  reference._tippy = instance\n  popper._tippy = instance\n\n  addTriggersToEventListenersTarget()\n\n  if (!props.lazy) {\n    createPopperInstance()\n  }\n\n  if (props.showOnInit) {\n    scheduleShow()\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener(\n    'mouseenter',\n    (): void => {\n      if (\n        instance.props.interactive &&\n        instance.state.isVisible &&\n        lastTriggerEventType === 'mouseenter'\n      ) {\n        instance.clearDelayTimeouts()\n      }\n    },\n  )\n  popper.addEventListener(\n    'mouseleave',\n    (): void => {\n      if (instance.props.interactive && lastTriggerEventType === 'mouseenter') {\n        document.addEventListener('mousemove', debouncedOnMouseMove)\n      }\n    },\n  )\n\n  props.onCreate(instance)\n\n  return instance\n\n  /* ======================= ðŸ”’ Private methods ðŸ”’ ======================= */\n  function getIsVerticalPlacement(): boolean {\n    return includes(['top', 'bottom'], getBasicPlacement(currentPlacement))\n  }\n\n  function getIsOppositePlacement(): boolean {\n    return includes(['bottom', 'right'], getBasicPlacement(currentPlacement))\n  }\n\n  function getIsInFollowCursorMode(): boolean {\n    return (\n      instance.props.followCursor &&\n      !isUsingTouch &&\n      lastTriggerEventType !== 'focus'\n    )\n  }\n\n  function getTransitionableElements(): (HTMLDivElement | null)[] {\n    return [tooltip, content, instance.popperChildren.backdrop]\n  }\n\n  function removeFollowCursorListener(): void {\n    document.removeEventListener(\n      'mousemove',\n      positionVirtualReferenceNearCursor,\n    )\n  }\n\n  function cleanupInteractiveMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n    mouseMoveListeners = mouseMoveListeners.filter(\n      (listener): boolean => listener !== debouncedOnMouseMove,\n    )\n  }\n\n  function getEventListenersTarget(): ReferenceElement {\n    return instance.props.triggerTarget || reference\n  }\n\n  function onDocumentClick(event: MouseEvent): void {\n    // Clicked on interactive popper\n    if (\n      instance.props.interactive &&\n      popper.contains(event.target as Element)\n    ) {\n      return\n    }\n\n    // Clicked on the event listeners target\n    if (getEventListenersTarget().contains(event.target as Element)) {\n      if (isUsingTouch) {\n        return\n      }\n\n      if (\n        instance.state.isVisible &&\n        includes(instance.props.trigger, 'click')\n      ) {\n        return\n      }\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts()\n      instance.hide()\n    }\n  }\n\n  function addDocumentClickListener(): void {\n    document.addEventListener('click', onDocumentClick, true)\n  }\n\n  function removeDocumentClickListener(): void {\n    document.removeEventListener('click', onDocumentClick, true)\n  }\n\n  function makeSticky(): void {\n    setTransitionDuration([popper], isIE ? 0 : instance.props.updateDuration)\n\n    function updatePosition(): void {\n      instance.popperInstance!.scheduleUpdate()\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      } else {\n        setTransitionDuration([popper], 0)\n      }\n    }\n\n    updatePosition()\n  }\n\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(\n      duration,\n      (): void => {\n        if (\n          !instance.state.isVisible &&\n          popper.parentNode &&\n          popper.parentNode.contains(popper)\n        ) {\n          callback()\n        }\n      },\n    )\n  }\n\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        updateTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener)\n    updateTransitionEndListener(tooltip, 'add', listener)\n\n    currentTransitionEndListener = listener\n  }\n\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    getEventListenersTarget().addEventListener(eventType, handler, options)\n    listeners.push({ eventType, handler, options })\n  }\n\n  function addTriggersToEventListenersTarget(): void {\n    if (instance.props.touchHold) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    instance.props.trigger\n      .trim()\n      .split(' ')\n      .forEach(\n        (eventType): void => {\n          if (eventType === 'manual') {\n            return\n          }\n\n          on(eventType, onTrigger)\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseleave', onMouseLeave as EventListener)\n              break\n            case 'focus':\n              on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n              break\n          }\n        },\n      )\n  }\n\n  function removeTriggersFromEventListenersTarget(): void {\n    listeners.forEach(\n      ({ eventType, handler, options }: Listener): void => {\n        getEventListenersTarget().removeEventListener(\n          eventType,\n          handler,\n          options,\n        )\n      },\n    )\n    listeners = []\n  }\n\n  function getCorrectedPadding(placement: string): number {\n    return instance.props.arrow\n      ? currentComputedPadding[placement] +\n          (instance.props.arrowType === 'round' ? 18 : 16)\n      : currentComputedPadding[placement]\n  }\n\n  function positionVirtualReferenceNearCursor(event: MouseEvent): void {\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    // Gets set once popperInstance `onCreate` has been called\n    if (!currentComputedPadding) {\n      return\n    }\n\n    const rect = reference.getBoundingClientRect()\n    const { followCursor } = instance.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n\n    // Ensure virtual reference is padded to prevent tooltip from overflowing.\n    // Seems to be a Popper.js issue\n    const padding = { ...currentComputedPadding }\n    const isVerticalPlacement = getIsVerticalPlacement()\n\n    if (isVerticalPlacement) {\n      padding.left = getCorrectedPadding('left')\n      padding.right = getCorrectedPadding('right')\n    } else {\n      padding.top = getCorrectedPadding('top')\n      padding.bottom = getCorrectedPadding('bottom')\n    }\n\n    // TODO: Remove the following later if Popper.js changes/fixes the\n    // behavior\n\n    // Top / left boundary\n    let x = isVerticalPlacement ? Math.max(padding.left, clientX) : clientX\n    let y = !isVerticalPlacement ? Math.max(padding.top, clientY) : clientY\n\n    // Bottom / right boundary\n    if (isVerticalPlacement && x > padding.right) {\n      x = Math.min(clientX, window.innerWidth - padding.right)\n    }\n    if (!isVerticalPlacement && y > padding.bottom) {\n      y = Math.min(clientY, window.innerHeight - padding.bottom)\n    }\n\n    // If the instance is interactive, avoid updating the position unless it's\n    // over the reference element\n    const isCursorOverReference = closestCallback(\n      event.target as Element,\n      (el: Element): boolean => el === reference,\n    )\n\n    if (isCursorOverReference || !instance.props.interactive) {\n      instance.popperInstance!.reference.getBoundingClientRect = ():\n        | DOMRect\n        | ClientRect => ({\n        width: 0,\n        height: 0,\n        top: isHorizontal ? rect.top : y,\n        bottom: isHorizontal ? rect.bottom : y,\n        left: isVertical ? rect.left : x,\n        right: isVertical ? rect.right : x,\n      })\n\n      instance.popperInstance!.scheduleUpdate()\n    }\n\n    if (followCursor === 'initial' && instance.state.isVisible) {\n      removeFollowCursorListener()\n    }\n  }\n\n  function onTrigger(event: Event): void {\n    if (!instance.state.isEnabled || isEventListenerStopped(event)) {\n      return\n    }\n\n    if (!instance.state.isVisible) {\n      lastTriggerEventType = event.type\n\n      if (event instanceof MouseEvent) {\n        lastMouseMoveEvent = event\n\n        // If scrolling, `mouseenter` events can be fired if the cursor lands\n        // over a new target, but `mousemove` events don't get fired. This\n        // causes interactive tooltips to get stuck open until the cursor is\n        // moved\n        mouseMoveListeners.forEach((listener): void => listener(event))\n      }\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide(event)\n    } else {\n      scheduleShow(event)\n    }\n  }\n\n  function onMouseMove(event: MouseEvent): void {\n    const isCursorOverReferenceOrPopper = closestCallback(\n      event.target as Element,\n      (el: Element): boolean => el === reference || el === popper,\n    )\n\n    if (isCursorOverReferenceOrPopper) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getBasicPlacement(currentPlacement),\n        popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupInteractiveMouseListeners()\n      scheduleHide(event)\n    }\n  }\n\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      mouseMoveListeners.push(debouncedOnMouseMove)\n\n      return\n    }\n\n    scheduleHide(event)\n  }\n\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== getEventListenersTarget()) {\n      return\n    }\n\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide(event)\n  }\n\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const { touchHold } = instance.props\n\n    return (\n      (supportsTouch && isUsingTouch && touchHold && !isTouchEvent) ||\n      (isUsingTouch && !touchHold && isTouchEvent)\n    )\n  }\n\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      const previousPlacement = currentPlacement\n      currentPlacement = data.placement\n\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      // Apply Popper's `x-*` attributes to the tooltip with `data-*`\n      popper.removeAttribute('x-placement')\n      popper.removeAttribute('x-out-of-boundaries')\n\n      tooltip.setAttribute('data-placement', currentPlacement)\n      if (data.attributes['x-out-of-boundaries'] !== false) {\n        tooltip.setAttribute('data-out-of-boundaries', '')\n      } else {\n        tooltip.removeAttribute('data-out-of-boundaries')\n      }\n\n      // Apply the `distance` prop\n      const basicPlacement = getBasicPlacement(currentPlacement)\n      const tooltipStyles = tooltip.style\n\n      tooltipStyles.top = ''\n      tooltipStyles.bottom = ''\n      tooltipStyles.left = ''\n      tooltipStyles.right = ''\n      tooltipStyles[\n        getIsVerticalPlacement() ? 'top' : 'left'\n      ] = `${(getIsOppositePlacement() ? 1 : -1) * instance.props.distance}px`\n\n      const padding =\n        preventOverflowModifier && preventOverflowModifier.padding !== undefined\n          ? preventOverflowModifier.padding\n          : PADDING\n      const isPaddingNumber = typeof padding === 'number'\n\n      const computedPadding = {\n        top: isPaddingNumber ? padding : padding.top,\n        bottom: isPaddingNumber ? padding : padding.bottom,\n        left: isPaddingNumber ? padding : padding.left,\n        right: isPaddingNumber ? padding : padding.right,\n        ...(!isPaddingNumber && padding),\n      }\n\n      computedPadding[basicPlacement] = isPaddingNumber\n        ? padding + instance.props.distance\n        : (padding[basicPlacement] || 0) + instance.props.distance\n\n      instance.popperInstance!.modifiers.filter(\n        (m): boolean => m.name === 'preventOverflow',\n      )[0].padding = computedPadding\n\n      currentComputedPadding = computedPadding\n\n      // The `distance` offset needs to be re-considered by Popper.js if the\n      // placement changed\n      if (currentPlacement !== previousPlacement) {\n        instance.popperInstance!.update()\n      }\n    }\n\n    const config = {\n      eventsEnabled: false,\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions ? popperOptions.modifiers : {}),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PADDING,\n          ...preventOverflowModifier,\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          // The tooltip is offset by 10px from the popper in CSS,\n          // we need to account for its distance\n          padding: instance.props.distance + PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      onCreate(data: Popper.Data): void {\n        applyMutations(data)\n        runMountCallback()\n\n        if (popperOptions && popperOptions.onCreate) {\n          popperOptions.onCreate(data)\n        }\n      },\n      onUpdate(data: Popper.Data): void {\n        applyMutations(data)\n        runMountCallback()\n\n        if (popperOptions && popperOptions.onUpdate) {\n          popperOptions.onUpdate(data)\n        }\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      reference,\n      popper,\n      config,\n    ) as PopperInstance\n  }\n\n  function runMountCallback(): void {\n    if (!hasMountCallbackRun && currentMountCallback) {\n      hasMountCallbackRun = true\n      reflow(popper)\n      currentMountCallback()\n    }\n  }\n\n  function mount(): void {\n    hasMountCallbackRun = false\n\n    const isInFollowCursorMode = getIsInFollowCursorMode()\n    const shouldEnableListeners =\n      !isInFollowCursorMode &&\n      !(instance.props.followCursor === 'initial' && isUsingTouch)\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n\n      if (shouldEnableListeners) {\n        instance.popperInstance!.enableEventListeners()\n      }\n    } else {\n      if (!isInFollowCursorMode) {\n        instance.popperInstance.scheduleUpdate()\n\n        if (shouldEnableListeners) {\n          instance.popperInstance.enableEventListeners()\n        }\n      }\n\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n    }\n\n    // If the instance previously had followCursor behavior, it will be\n    // positioned incorrectly if triggered by `focus` afterwards.\n    // Update the reference back to the real DOM element\n    instance.popperInstance!.reference = reference\n    const { arrow } = instance.popperChildren\n\n    if (isInFollowCursorMode) {\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n\n      if (lastMouseMoveEvent) {\n        positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      }\n    } else if (arrow) {\n      arrow.style.margin = ''\n    }\n\n    // Allow followCursor: 'initial' on touch devices\n    if (\n      isUsingTouch &&\n      lastMouseMoveEvent &&\n      instance.props.followCursor === 'initial'\n    ) {\n      positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n    }\n\n    const { appendTo } = instance.props\n\n    const parentNode =\n      appendTo === 'parent'\n        ? reference.parentNode\n        : invokeWithArgsOrReturn(appendTo, [reference])\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper)\n      instance.props.onMount(instance)\n      instance.state.isMounted = true\n    }\n  }\n\n  function scheduleShow(event?: Event): void {\n    instance.clearDelayTimeouts()\n\n    if (event) {\n      instance.props.onTrigger(instance, event)\n    }\n\n    if (instance.state.isVisible) {\n      return\n    }\n\n    isScheduledToShow = true\n\n    if (instance.props.wait) {\n      return instance.props.wait(instance, event)\n    }\n\n    // If the tooltip has a delay, we need to be listening to the mousemove as\n    // soon as the trigger event is fired, so that it's in the correct position\n    // upon mount.\n    // Edge case: if the tooltip is still mounted, but then scheduleShow() is\n    // called, it causes a jump.\n    if (getIsInFollowCursorMode() && !instance.state.isMounted) {\n      if (!instance.popperInstance) {\n        createPopperInstance()\n      }\n\n      document.addEventListener('mousemove', positionVirtualReferenceNearCursor)\n    }\n\n    addDocumentClickListener()\n\n    const delay = getValue(instance.props.delay, 0, defaultProps.delay)\n\n    if (delay) {\n      showTimeout = setTimeout((): void => {\n        instance.show()\n      }, delay)\n    } else {\n      instance.show()\n    }\n  }\n\n  function scheduleHide(event: Event): void {\n    instance.clearDelayTimeouts()\n\n    instance.props.onUntrigger(instance, event)\n\n    if (!instance.state.isVisible) {\n      return removeFollowCursorListener()\n    }\n\n    isScheduledToShow = false\n\n    const delay = getValue(instance.props.delay, 1, defaultProps.delay)\n\n    if (delay) {\n      hideTimeout = setTimeout((): void => {\n        if (instance.state.isVisible) {\n          instance.hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      animationFrame = requestAnimationFrame(\n        (): void => {\n          instance.hide()\n        },\n      )\n    }\n  }\n\n  /* ======================= ðŸ”‘ Public methods ðŸ”‘ ======================= */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  function disable(): void {\n    instance.state.isEnabled = false\n  }\n\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeout)\n    clearTimeout(hideTimeout)\n    cancelAnimationFrame(animationFrame)\n  }\n\n  function setProps(partialProps: Partial<Props>): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`set()` was called on a destroyed instance. ' +\n          'This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    if (__DEV__) {\n      validateProps(partialProps)\n    }\n\n    removeTriggersFromEventListenersTarget()\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(reference, {\n      ...instance.props,\n      ...partialProps,\n      ignoreAttributes: true,\n    })\n    nextProps.ignoreAttributes = hasOwnProperty(\n      partialProps,\n      'ignoreAttributes',\n    )\n      ? partialProps.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n    instance.props = nextProps\n\n    addTriggersToEventListenersTarget()\n\n    cleanupInteractiveMouseListeners()\n    debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce)\n\n    updatePopperElement(popper, prevProps, nextProps, instance.state.isVisible)\n    instance.popperChildren = getChildren(popper)\n\n    if (instance.popperInstance) {\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some(\n          (prop): boolean => {\n            return (\n              hasOwnProperty(partialProps, prop) &&\n              partialProps[prop] !== prevProps[prop]\n            )\n          },\n        )\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n\n        if (instance.state.isVisible) {\n          instance.popperInstance.enableEventListeners()\n        }\n\n        if (instance.props.followCursor && lastMouseMoveEvent) {\n          positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n        }\n      } else {\n        instance.popperInstance.update()\n      }\n    }\n  }\n\n  function setContent(content: Content): void {\n    instance.setProps({ content })\n  }\n\n  function show(\n    duration: number = getValue(\n      instance.props.duration,\n      0,\n      (defaultProps.duration as [number, number])[1],\n    ),\n    shouldPreventPopperTransition: boolean = true,\n  ): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`show()` was called on a destroyed instance. ' +\n          'This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    // Early bail-out\n    const isAlreadyVisible = instance.state.isVisible\n    const isDestroyed = instance.state.isDestroyed\n    const isDisabled = !instance.state.isEnabled\n    const isUsingTouchAndTouchDisabled = isUsingTouch && !instance.props.touch\n\n    if (\n      isAlreadyVisible ||\n      isDestroyed ||\n      isDisabled ||\n      isUsingTouchAndTouchDisabled\n    ) {\n      return\n    }\n\n    // Standardize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getEventListenersTarget().hasAttribute('disabled')) {\n      return\n    }\n\n    if (instance.props.onShow(instance) === false) {\n      return\n    }\n\n    addDocumentClickListener()\n\n    popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    // Prevent a transition of the popper from its previous position and of the\n    // elements at a different placement.\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(\n      shouldPreventPopperTransition\n        ? transitionableElements.concat(popper)\n        : transitionableElements,\n      0,\n    )\n\n    currentMountCallback = (): void => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      // Double update will apply correct mutations\n      if (!getIsInFollowCursorMode()) {\n        instance.popperInstance!.update()\n      }\n\n      if (instance.popperChildren.backdrop) {\n        instance.popperChildren.content.style.transitionDelay =\n          Math.round(duration / 12) + 'ms'\n      }\n\n      if (instance.props.sticky) {\n        makeSticky()\n      }\n\n      setTransitionDuration([popper], instance.props.updateDuration)\n      setTransitionDuration(transitionableElements, duration)\n      setVisibilityState(transitionableElements, 'visible')\n\n      onTransitionedIn(\n        duration,\n        (): void => {\n          if (instance.props.aria) {\n            getEventListenersTarget().setAttribute(\n              `aria-${instance.props.aria}`,\n              tooltip.id,\n            )\n          }\n\n          instance.props.onShown(instance)\n          instance.state.isShown = true\n        },\n      )\n    }\n\n    mount()\n  }\n\n  function hide(\n    duration: number = getValue(\n      instance.props.duration,\n      1,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`hide()` was called on a destroyed instance. ' +\n          'This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    // Early bail-out\n    // We're checking `isMounted` instead if `isVisible` so that `destroy()`'s\n    // instance.hide(0) call is not ignored (to unmount the tippy instantly)\n    const isAlreadyHidden = !instance.state.isMounted\n    const isDestroyed = instance.state.isDestroyed\n    const isDisabled = !instance.state.isEnabled\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return\n    }\n\n    if (instance.props.onHide(instance) === false) {\n      return\n    }\n\n    removeDocumentClickListener()\n\n    popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements, duration)\n    setVisibilityState(transitionableElements, 'hidden')\n\n    onTransitionedOut(\n      duration,\n      (): void => {\n        if (!isScheduledToShow) {\n          removeFollowCursorListener()\n        }\n\n        if (instance.props.aria) {\n          getEventListenersTarget().removeAttribute(\n            `aria-${instance.props.aria}`,\n          )\n        }\n\n        instance.popperInstance!.disableEventListeners()\n        instance.popperInstance!.options.placement = instance.props.placement\n\n        popper.parentNode!.removeChild(popper)\n        instance.props.onHidden(instance)\n        instance.state.isMounted = false\n      },\n    )\n  }\n\n  function destroy(): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`destroy()` was called on an already-destroyed ' +\n          'instance. This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    instance.hide(0)\n\n    removeTriggersFromEventListenersTarget()\n\n    delete reference._tippy\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    instance.state.isDestroyed = true\n  }\n}\n","import { version } from '../package.json'\nimport { isBrowser } from './browser'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners from './bindGlobalEventListeners'\nimport { arrayFrom } from './ponyfills'\nimport {\n  isRealElement,\n  getArrayOfElements,\n  isReferenceElement,\n  warnWhen,\n} from './utils'\nimport { validateTargets, validateProps } from './validation'\nimport { POPPER_SELECTOR } from './constants'\nimport {\n  Props,\n  Instance,\n  Targets,\n  PopperElement,\n  HideAllOptions,\n} from './types'\n\nlet globalEventListenersBound = false\n\n/**\n * Exported module\n */\nfunction tippy(\n  targets: Targets,\n  optionalProps?: Partial<Props>,\n): Instance | Instance[] | null {\n  if (__DEV__) {\n    validateTargets(targets)\n    validateProps(optionalProps)\n  }\n\n  if (!globalEventListenersBound) {\n    bindGlobalEventListeners()\n    globalEventListenersBound = true\n  }\n\n  const props: Props = { ...defaultProps, ...optionalProps }\n\n  const elements = getArrayOfElements(targets)\n\n  if (__DEV__) {\n    const isSingleContentElement = isRealElement(props.content)\n    const isMoreThanOneReferenceElement = elements.length > 1\n    warnWhen(\n      isSingleContentElement && isMoreThanOneReferenceElement,\n      '`tippy()` was passed a targets argument that will create more than ' +\n        'one tippy instance, but only a single element was supplied as the ' +\n        '`content` option. Use a function that returns a cloned version of ' +\n        'the element instead, or pass the .innerHTML of the template element.',\n    )\n  }\n\n  const instances = elements.reduce<Instance[]>(\n    (acc, reference): Instance[] => {\n      const instance = reference && createTippy(reference, props)\n\n      if (instance) {\n        acc.push(instance)\n      }\n\n      return acc\n    },\n    [],\n  )\n\n  return targets ? (isRealElement(targets) ? instances[0] : instances) : null\n}\n\ntippy.version = version\ntippy.defaultProps = defaultProps\n\n/**\n * Mutates the defaultProps object by setting the props specified\n */\ntippy.setDefaultProps = (partialProps: Partial<Props>): void => {\n  Object.keys(partialProps).forEach(\n    (key): void => {\n      // @ts-ignore\n      defaultProps[key] = partialProps[key]\n    },\n  )\n}\n\n/**\n * Hides all visible poppers on the document\n */\ntippy.hideAll = ({\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}): void => {\n  arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(\n    (popper: PopperElement): void => {\n      const instance = popper._tippy\n\n      if (instance) {\n        let isExcluded = false\n        if (excludedReferenceOrInstance) {\n          isExcluded = isReferenceElement(excludedReferenceOrInstance)\n            ? instance.reference === excludedReferenceOrInstance\n            : popper === excludedReferenceOrInstance.popper\n        }\n\n        if (!isExcluded) {\n          instance.hide(duration)\n        }\n      }\n    },\n  )\n}\n\nif (__DEV__) {\n  tippy.group = (): void => {\n    warnWhen(\n      true,\n      '`tippy.group()` was removed in v5 and replaced with ' +\n        '`createSingleton()`. Read more here: ' +\n        'https://atomiks.github.io/tippyjs/addons#singleton',\n    )\n  }\n\n  tippy.setDefaults = (): void => {\n    warnWhen(\n      true,\n      '`tippy.setDefaults()` was renamed to `tippy.setDefaultProps()` in v5.',\n    )\n  }\n\n  Object.defineProperty(tippy, 'defaults', {\n    get(): void {\n      warnWhen(\n        true,\n        'The `tippy.defaults` property was renamed to `tippy.defaultProps` ' +\n          'in v5.',\n      )\n      return undefined\n    },\n  })\n}\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport function autoInit(): void {\n  arrayFrom(document.querySelectorAll('[data-tippy]')).forEach(\n    (el): void => {\n      const content = el.getAttribute('data-tippy')\n\n      if (content) {\n        tippy(el, { content })\n      }\n    },\n  )\n}\n\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n\nexport default tippy\n"],"names":["isBrowser","window","document","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","MSStream","defaultProps","allowHTML","animateFill","animation","appendTo","body","aria","arrow","arrowType","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","followCursor","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onCreate","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","placement","popperOptions","role","showOnInit","size","sticky","theme","touch","touchHold","trigger","triggerTarget","updateDuration","wait","zIndex","POPPER_INSTANCE_DEPENDENCIES","arrayFrom","value","slice","call","closestCallback","element","callback","parentElement","PASSIVE","passive","PADDING","IOS_CLASS","POPPER_CLASS","TOOLTIP_CLASS","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","POPPER_SELECTOR","TOOLTIP_SELECTOR","CONTENT_SELECTOR","BACKDROP_SELECTOR","ARROW_SELECTOR","SVG_ARROW_SELECTOR","isUsingTouch","lastMouseMoveTime","onDocumentTouchStart","classList","add","performance","addEventListener","onDocumentMouseMove","now","removeEventListener","remove","onWindowBlur","activeElement","blur","_tippy","bindGlobalEventListeners","keys","Object","getDataAttributeProps","reference","reduce","acc","key","valueAsString","getAttribute","trim","JSON","parse","e","isReferenceElement","contains","hasOwnProperty","obj","getArrayOfElements","isRealElement","NodeList","Array","isArray","querySelectorAll","getValue","index","defaultValue","v","getModifier","modifiers","includes","a","b","indexOf","Element","innerHTML","invokeWithArgsOrReturn","args","apply","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","setTransitionDuration","els","forEach","el","style","transitionDuration","setVisibilityState","state","setAttribute","evaluateProps","props","out","debounce","fn","ms","timeout","arg","clearTimeout","setTimeout","warnWhen","condition","message","console","warn","setInnerHTML","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","backdrop","addInertia","removeInertia","removeAttribute","createArrowElement","className","createBackdropElement","isVisible","addInteractive","removeInteractive","updateTransitionEndListener","action","listener","eventName","webkitTransition","undefined","getBasicPlacement","split","reflow","offsetHeight","updateTheme","createPopperElement","id","updatePopperElement","prevProps","nextProps","removeChild","replaceChild","isCursorOutsideInteractiveBorder","popperPlacement","popperRect","event","x","clientX","y","clientY","exceedsTop","top","exceedsBottom","bottom","exceedsLeft","left","exceedsRight","right","validateProps","partialProps","prop","didPassTargetprop","didPassA11yprop","didPassOtherUnknownprop","didPassOldThemeName","didPassGoogleTheme","validateTargets","targets","didPassFalsyValue","didPassPlainObject","prototype","toString","idCounter","mouseMoveListeners","createTippy","collectionProps","lastTriggerEventType","lastMouseMoveEvent","showTimeout","hideTimeout","animationFrame","isScheduledToShow","currentPlacement","hasMountCallbackRun","currentMountCallback","currentTransitionEndListener","listeners","debouncedOnMouseMove","onMouseMove","currentComputedPadding","popperChildren","popperInstance","isEnabled","isDestroyed","isMounted","isShown","instance","clearDelayTimeouts","setProps","show","hide","enable","disable","destroy","addTriggersToEventListenersTarget","createPopperInstance","scheduleShow","getIsVerticalPlacement","getIsOppositePlacement","getIsInFollowCursorMode","getTransitionableElements","removeFollowCursorListener","positionVirtualReferenceNearCursor","cleanupInteractiveMouseListeners","scheduleHide","getEventListenersTarget","onDocumentClick","target","addDocumentClickListener","removeDocumentClickListener","makeSticky","updatePosition","scheduleUpdate","requestAnimationFrame","onTransitionedOut","onTransitionEnd","parentNode","onTransitionedIn","on","eventType","handler","options","push","onMouseLeave","onBlur","removeTriggersFromEventListenersTarget","getCorrectedPadding","rect","getBoundingClientRect","isHorizontal","isVertical","padding","isVerticalPlacement","Math","max","min","innerWidth","innerHeight","isCursorOverReference","width","height","isEventListenerStopped","type","MouseEvent","isCursorOverReferenceOrPopper","relatedTarget","supportsTouch","isTouchEvent","preventOverflowModifier","applyMutations","data","previousPlacement","flipped","attributes","basicPlacement","tooltipStyles","isPaddingNumber","computedPadding","update","config","eventsEnabled","preventOverflow","boundariesElement","behavior","runMountCallback","onUpdate","Popper","mount","isInFollowCursorMode","shouldEnableListeners","enableEventListeners","margin","cancelAnimationFrame","some","shouldPreventPopperTransition","isAlreadyVisible","isDisabled","isUsingTouchAndTouchDisabled","hasAttribute","visibility","transitionableElements","concat","transitionDelay","round","isAlreadyHidden","disableEventListeners","globalEventListenersBound","tippy","optionalProps","elements","isSingleContentElement","isMoreThanOneReferenceElement","length","instances","version","setDefaultProps","hideAll","excludedReferenceOrInstance","exclude","isExcluded","group","setDefaults","defineProperty","get","autoInit"],"mappings":"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"}